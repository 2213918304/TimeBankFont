<view class="login-page">
  <!-- 头部品牌区域 -->
  <view class="brand-header">
    <view class="brand-logo">
      <t-icon name="time" size="64rpx" color="rgba(255, 255, 255, 0.9)" />
    </view>
    <view class="brand-title">大连时间银行</view>
    <view class="brand-subtitle">用爱心存储时间，用时间传递温暖</view>
  </view>

  <!-- 登录表单卡片 -->
  <view class="login-card">
    <view class="card-header">
      <text class="card-title">欢迎登录</text>
      <text class="card-subtitle">请输入您的账号密码</text>
    </view>

    <view class="form-container">
      <!-- 手机号输入 -->
      <view class="form-item">
        <t-input
          label="手机号"
          placeholder="请输入手机号"
          type="number"
          value="{{phone}}"
          bind:change="onPhoneChange"
          bind:blur="onPhoneBlur"
          maxlength="11"
          prefix-icon="mobile"
          status="{{phoneError ? 'error' : ''}}"
          tips="{{phoneError}}"
        />
      </view>

      <!-- 密码输入 -->
      <view class="form-item">
        <t-input
          label="密码"
          placeholder="请输入密码"
          type="{{showPassword ? 'text' : 'password'}}"
          value="{{password}}"
          bind:change="onPasswordChange"
          bind:blur="onPasswordBlur"
          prefix-icon="lock"
          suffix-icon="{{showPassword ? 'browse' : 'browse-off'}}"
          bind:suffix-icon-tap="togglePassword"
          status="{{passwordError ? 'error' : ''}}"
          tips="{{passwordError}}"
        />
      </view>

      <!-- 记住密码和忘记密码 -->
      <view class="form-options">
        <t-checkbox value="{{rememberPassword}}" bind:change="onRememberChange">
          记住密码
        </t-checkbox>
        <text class="forgot-password" bind:tap="showForgotPassword">忘记密码？</text>
      </view>

      <!-- 登录按钮 -->
      <view class="form-item">
        <t-button
          theme="primary"
          size="large"
          block
          loading="{{isLoading}}"
          disabled="{{!canLogin}}"
          bind:tap="handleLogin"
        >
          {{isLoading ? '登录中...' : '登录'}}
        </t-button>
      </view>

      <!-- 快速登录方式 -->
      <view class="quick-login">
        <view class="divider">
          <text>其他登录方式</text>
        </view>
        <view class="quick-methods">
          <view class="quick-item" bind:tap="wechatLogin">
            <t-icon name="logo-wechat" size="48rpx" color="#07C160" />
            <text>微信登录</text>
          </view>
          <view class="quick-item" bind:tap="faceLogin">
            <t-icon name="face-retouching" size="48rpx" color="#0052D9" />
            <text>人脸登录</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- 底部注册链接 -->
  <view class="bottom-section">
    <view class="register-tip">
      <text>还没有账号？</text>
      <text class="register-link" bind:tap="goToRegister">立即注册</text>
    </view>
    
    <!-- 服务条款 -->
    <view class="terms">
      <text>登录即表示同意</text>
      <text class="terms-link" bind:tap="showUserAgreement">《用户协议》</text>
      <text>和</text>
      <text class="terms-link" bind:tap="showPrivacyPolicy">《隐私政策》</text>
    </view>
  </view>

  <!-- Toast提示 -->
  <t-toast id="t-toast" />
  
  <!-- 对话框 -->
  <t-dialog
    visible="{{showDialog}}"
    title="{{dialogTitle}}"
    content="{{dialogContent}}"
    bind:confirm="onDialogConfirm"
    bind:cancel="onDialogCancel"
  />
  
  <!-- 加载遮罩 -->
  <t-overlay visible="{{isLoading}}" z-index="9999">
    <view class="loading-content">
      <t-loading size="large" theme="circular" text="登录中..." />
    </view>
  </t-overlay>
</view>






